window.megaMenuInitialized?console.log("Mega Menu already initialized, skipping"):document.addEventListener("DOMContentLoaded",(function(){console.log("DOM Content Loaded");const e=document.querySelectorAll(".wp-block-create-block-mega-menu");console.log("Found Mega Menus:",e.length),e.forEach(((e,o)=>{console.log(`Processing menu ${o}`);const n=e.querySelector(".mega-menu-trigger"),t=e.querySelector(".mega-menu-content"),l=e.querySelector(".dropdown-arrow");console.log("Menu elements:",{trigger:n?"found":"not found",content:t?"found":"not found",arrow:l?"found":"not found"}),n&&t&&(n.addEventListener("click",(function(e){console.log("Click event fired"),e.stopPropagation(),e.preventDefault();const o=t.classList.contains("open");console.log("Current state:",o?"open":"closed"),t.classList.toggle("open"),l&&(l.style.transform=o?"rotate(0deg)":"rotate(180deg)"),n.setAttribute("aria-expanded",!o),console.log("New state:",t.classList.contains("open")?"open":"closed")})),console.log("Click event listener added to trigger"))})),document.addEventListener("click",(function(o){console.log("Outside click detected"),e.forEach((e=>{if(!e.contains(o.target)){const o=e.querySelector(".mega-menu-content"),n=e.querySelector(".dropdown-arrow"),t=e.querySelector(".mega-menu-trigger");o&&o.classList.remove("open"),n&&(n.style.transform="rotate(0deg)"),t&&t.setAttribute("aria-expanded","false")}}))})),window.megaMenuInitialized=!0,console.log("Mega Menu initialization complete")}));